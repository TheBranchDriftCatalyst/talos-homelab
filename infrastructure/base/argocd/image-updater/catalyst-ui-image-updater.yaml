---
apiVersion: argocd-image-updater.argoproj.io/v1alpha1
kind: ImageUpdater
metadata:
  name: catalyst-ui
  namespace: argocd
spec:
  # Namespace where ArgoCD applications are located
  namespace: argocd
  # Application selection
  applicationRefs:
    - name: catalyst-ui
  # Images to manage
  images:
    - name: catalyst-ui
      image: ghcr.io/thebranchdriftcatalyst/catalyst-ui
      updateStrategy:
        type: latest
      allowTags:
        matchRegex: ^(latest|main|[a-f0-9]{7,40})$
  # Write-back method: update ArgoCD Application directly
  writeBack:
    method: argocd
