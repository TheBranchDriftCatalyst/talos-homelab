---
# Grafana CR that points to the existing kube-prometheus-stack Grafana
# This allows GrafanaDashboard CRs to provision dashboards to it
apiVersion: grafana.integreatly.org/v1beta1
kind: Grafana
metadata:
  name: grafana
  namespace: monitoring
  labels:
    dashboards: "grafana"
spec:
  # External Grafana - we're not deploying a new one, just referencing existing
  external:
    url: http://kube-prometheus-stack-grafana.monitoring.svc:80
    adminUser:
      name: kube-prometheus-stack-grafana
      key: admin-user
    adminPassword:
      name: kube-prometheus-stack-grafana
      key: admin-password
