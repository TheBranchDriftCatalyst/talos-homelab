---
# Loki Logging Dashboards for Kubernetes
# Best-of-breed dashboards for V2 OTEL stack (Mimir + Loki + Alloy)

# Kubernetes General Dashboard with Mimir+Loki (ID: 21173)
# Perfect for V2 OTEL stack - uses both Mimir and Loki datasources
# Features: Drill-down from cluster overview to pod details, metrics + logs
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDashboard
metadata:
  name: kubernetes-general-mimir-loki
  namespace: monitoring
spec:
  folder: "Logging"
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  grafanaCom:
    id: 21173
  datasources:
    - inputName: "DS_PROMETHEUS"
      datasourceName: "Mimir"
    - inputName: "DS_LOKI"
      datasourceName: "Loki"
---
# Kubernetes Logs from Loki (ID: 18494)
# Improved log browser with namespace/pod filters and regex search
# Better than 15141 - works out of the box
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDashboard
metadata:
  name: kubernetes-logs-loki
  namespace: monitoring
spec:
  folder: "Logging"
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  grafanaCom:
    id: 18494
  datasources:
    - inputName: "DS_LOKI"
      datasourceName: "Loki"
---
# Loki Stack Monitoring Dashboard (ID: 14055)
# Monitor Loki itself - ingestion rates, query performance
# Requires: Prometheus + Loki datasources
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDashboard
metadata:
  name: loki-stack-monitoring
  namespace: monitoring
spec:
  folder: "Logging"
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  grafanaCom:
    id: 14055
  datasources:
    - inputName: "DS_PROMETHEUS"
      datasourceName: "Mimir"
    - inputName: "DS_LOKI"
      datasourceName: "Loki"
---
# Logging Dashboard via Loki v2 (ID: 18042)
# Universal and flexible logging dashboard
# Good fallback if other dashboards have issues
apiVersion: grafana.integreatly.org/v1beta1
kind: GrafanaDashboard
metadata:
  name: logging-loki-v2
  namespace: monitoring
spec:
  folder: "Logging"
  instanceSelector:
    matchLabels:
      dashboards: "grafana"
  grafanaCom:
    id: 18042
  datasources:
    - inputName: "DS_LOKI"
      datasourceName: "Loki"
