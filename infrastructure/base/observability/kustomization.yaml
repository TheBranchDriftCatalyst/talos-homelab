---
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: observability

resources:
  # Namespace is defined in infrastructure/base/namespaces/observability.yaml
  # (removed duplicate to avoid conflict)

  # ExternalSecrets (must be created before HelmReleases that depend on them)
  - graylog/externalsecret.yaml

  # HelmReleases managed by Flux
  - graylog/helmrelease.yaml
  - mongodb/helmrelease.yaml
  - opensearch/helmrelease.yaml
  - fluent-bit/helmrelease.yaml
  - loki/helmrelease.yaml

  # Prometheus exporters for observability stack metrics
  - graylog/exporter.yaml
  - mongodb/exporter.yaml
  - opensearch/exporter.yaml

  # Ingress routes
  - ingressroutes.yaml
