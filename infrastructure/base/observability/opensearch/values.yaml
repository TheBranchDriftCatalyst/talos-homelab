---
# OpenSearch values for Graylog

# Use OpenSearch 2.15 for Graylog 7.0 compatibility (latest supported version)
image:
  repository: "opensearchproject/opensearch"
  tag: "2.15.0"

clusterName: "opensearch-cluster"
nodeGroup: "master"

replicas: 1

opensearchJavaOpts: "-Xms512m -Xmx512m"

resources:
  requests:
    cpu: 500m
    memory: 1Gi
  limits:
    cpu: 1000m
    memory: 2Gi

persistence:
  enabled: true
  storageClass: local-path
  size: 30Gi

extraEnvs:
  - name: OPENSEARCH_INITIAL_ADMIN_PASSWORD
    value: "Admin123!@#"
  - name: DISABLE_SECURITY_PLUGIN
    value: "true"

config:
  opensearch.yml: |
    cluster.name: opensearch-cluster
    network.host: 0.0.0.0
    plugins:
      security:
        disabled: true

securityConfig:
  enabled: false

sysctlInit:
  enabled: true
