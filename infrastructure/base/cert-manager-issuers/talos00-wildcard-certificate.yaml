---
# Wildcard certificate for *.talos00 (local homelab domains)
# Signed by the homelab internal CA (homelab-ca-issuer)
# Stored in traefik namespace so Traefik auto-discovers it via SNI
# Any IngressRoute with websecure + tls:{} will use this for *.talos00
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: talos00-wildcard
  namespace: traefik
spec:
  secretName: talos00-wildcard-tls
  issuerRef:
    name: homelab-ca-issuer
    kind: ClusterIssuer
  dnsNames:
    - "*.talos00"
    - "talos00"
  duration: 8760h # 1 year
  renewBefore: 720h # 30 days before expiry
