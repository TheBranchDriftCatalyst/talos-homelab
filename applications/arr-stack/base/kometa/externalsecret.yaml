---
# Kometa credentials from 1Password
# Pulls TMDB API key, Plex token, and Trakt OAuth
apiVersion: external-secrets.io/v1beta1
kind: ExternalSecret
metadata:
  name: kometa-credentials
spec:
  refreshInterval: 1h
  secretStoreRef:
    name: onepassword
    kind: ClusterSecretStore
  target:
    name: kometa-credentials
    creationPolicy: Owner
  data:
    - secretKey: tmdb-apikey
      remoteRef:
        key: tmdb-api
        property: password
    - secretKey: plex-token
      remoteRef:
        key: plex-token
        property: password
    # Trakt OAuth credentials (create app at https://trakt.tv/oauth/applications)
    - secretKey: trakt-client-id
      remoteRef:
        key: trakt-api
        property: client_id
    - secretKey: trakt-client-secret
      remoteRef:
        key: trakt-api
        property: client_secret
