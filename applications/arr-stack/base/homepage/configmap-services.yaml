---
apiVersion: v1
kind: ConfigMap
metadata:
  name: homepage-services
  labels:
    app: homepage
    app.kubernetes.io/name: homepage
    app.kubernetes.io/part-of: arr-stack
data:
  services.yaml: |
    ---
    # Homepage Services Configuration
    # Documentation: https://gethomepage.dev/configs/services/

    # Media Management Services
    - Media Management:
        - Sonarr:
            icon: sonarr.png
            href: http://sonarr.talos00
            description: TV Series Management
            siteMonitor: http://sonarr.media.svc.cluster.local:8989
            widget:
              type: sonarr
              url: http://sonarr.media.svc.cluster.local:8989
              key: {{HOMEPAGE_VAR_SONARR_KEY}}
              enableQueue: true

        - Radarr:
            icon: radarr.png
            href: http://radarr.talos00
            description: Movie Management
            siteMonitor: http://radarr.media.svc.cluster.local:7878
            widget:
              type: radarr
              url: http://radarr.media.svc.cluster.local:7878
              key: {{HOMEPAGE_VAR_RADARR_KEY}}
              enableQueue: true

        - Readarr:
            icon: readarr.png
            href: http://readarr.talos00
            description: Book & Audiobook Management
            siteMonitor: http://readarr.media.svc.cluster.local:8787
            widget:
              type: readarr
              url: http://readarr.media.svc.cluster.local:8787
              key: {{HOMEPAGE_VAR_READARR_KEY}}
              enableQueue: true

        - Prowlarr:
            icon: prowlarr.png
            href: http://prowlarr.talos00
            description: Indexer Manager
            siteMonitor: http://prowlarr.media.svc.cluster.local:9696
            widget:
              type: prowlarr
              url: http://prowlarr.media.svc.cluster.local:9696
              key: {{HOMEPAGE_VAR_PROWLARR_KEY}}

        - Kometa:
            icon: https://raw.githubusercontent.com/Kometa-Team/Kometa/master/docs/assets/logo-full.png
            href: http://kometa.talos00
            description: Plex Meta Manager
            siteMonitor: http://kometa.media.svc.cluster.local:80

        - Posterizarr:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/plex.png
            href: http://posterizarr.talos00
            description: Poster Overlay Generator
            siteMonitor: http://posterizarr.media.svc.cluster.local:8000

    # Download Clients
    - Download Clients:
        - qBittorrent:
            icon: qbittorrent.png
            href: http://qbittorrent.talos00
            description: Torrent Client (VPN Protected)
            siteMonitor: http://qbittorrent.media.svc.cluster.local:8080
            widget:
              type: qbittorrent
              url: http://qbittorrent.media.svc.cluster.local:8080
              username: panda
              password: turbopookipanda

        - SABnzbd:
            icon: sabnzbd.png
            href: http://sabnzbd.talos00
            description: Usenet Downloader
            siteMonitor: http://sabnzbd.media.svc.cluster.local:8080
            widget:
              type: sabnzbd
              url: http://sabnzbd.media.svc.cluster.local:8080
              key: {{HOMEPAGE_VAR_SABNZBD_KEY}}

    # Media Servers & Players
    - Media Servers:
        - Plex:
            icon: plex.png
            href: http://plex.talos00
            description: Primary Media Server
            siteMonitor: http://plex.media.svc.cluster.local:32400/web
            widget:
              type: plex
              url: http://plex.media.svc.cluster.local:32400
              key: {{HOMEPAGE_VAR_PLEX_KEY}}

        - Jellyfin:
            icon: jellyfin.png
            href: http://jellyfin.talos00
            description: Open Source Media Server
            siteMonitor: http://jellyfin.media.svc.cluster.local:8096
            widget:
              type: jellyfin
              url: http://jellyfin.media.svc.cluster.local:8096
              key: {{HOMEPAGE_VAR_JELLYFIN_KEY}}
              enableBlocks: true
              enableNowPlaying: true

        - Overseerr:
            icon: overseerr.png
            href: http://overseerr.talos00
            description: Media Requests
            siteMonitor: http://overseerr.media.svc.cluster.local:5055
            widget:
              type: overseerr
              url: http://overseerr.media.svc.cluster.local:5055
              key: {{HOMEPAGE_VAR_OVERSEERR_KEY}}

        - Tautulli:
            icon: tautulli.png
            href: http://tautulli.talos00
            description: Plex Analytics
            siteMonitor: http://tautulli.media.svc.cluster.local:8181
            widget:
              type: tautulli
              url: http://tautulli.media.svc.cluster.local:8181
              key: {{HOMEPAGE_VAR_TAUTULLI_KEY}}

        - Tdarr:
            icon: tdarr.png
            href: http://tdarr.talos00
            description: Media Transcoding
            siteMonitor: http://tdarr-server.tdarr.svc.cluster.local:8265
            widget:
              type: tdarr
              url: http://tdarr-server.tdarr.svc.cluster.local:8265

    # AI & LLM Services
    - AI & LLM:
        - Open WebUI:
            icon: https://raw.githubusercontent.com/open-webui/open-webui/main/static/favicon.png
            href: http://chat.talos00
            description: ChatGPT-style Interface
            siteMonitor: http://open-webui.catalyst-llm.svc.cluster.local:8080

        - LLM Proxy:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/ollama.png
            href: http://llm.talos00/_/ui
            description: GPU Worker Orchestration
            siteMonitor: http://llm-proxy.catalyst-llm.svc.cluster.local:8080/health

        - RabbitMQ:
            icon: rabbitmq.png
            href: http://rabbitmq.talos00
            description: Message Broker
            siteMonitor: http://rabbitmq.catalyst-llm.svc.cluster.local:15672

    # Infrastructure Services
    - Infrastructure:
        - Authentik:
            icon: authentik.png
            href: http://authentik.talos00
            description: Identity Provider (SSO)
            siteMonitor: http://authentik-server.authentik.svc.cluster.local
            widget:
              type: authentik
              url: http://authentik-server.authentik.svc.cluster.local
              key: {{HOMEPAGE_VAR_AUTHENTIK_KEY}}

        - Traefik:
            icon: traefik.png
            href: http://traefik.talos00/dashboard/
            description: Ingress Controller
            siteMonitor: http://traefik-internal.traefik.svc.cluster.local:9000/ping
            widget:
              type: traefik
              url: http://traefik-internal.traefik.svc.cluster.local:9000

        - ArgoCD:
            icon: argocd.png
            href: http://argocd.talos00
            description: GitOps Continuous Delivery
            siteMonitor: http://argocd-server.argocd.svc.cluster.local

        - Flux:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/flux-cd.png
            href: http://grafana.talos00/d/flux-cluster/flux-cluster-stats
            description: GitOps Toolkit
            siteMonitor: http://source-controller.flux-system.svc.cluster.local

        - Nexus:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/nexus-sonatype.png
            href: http://nexus.talos00
            description: Artifact Repository
            siteMonitor: http://nexus.registry.svc.cluster.local:8081

        - MinIO:
            icon: minio.png
            href: http://minio.talos00
            description: S3 Object Storage
            siteMonitor: http://minio.minio.svc.cluster.local/minio/health/live

    # Monitoring & Observability
    - Monitoring:
        - Grafana:
            icon: grafana.png
            href: http://grafana.talos00
            description: Dashboards & Visualization
            siteMonitor: http://grafana-service.monitoring.svc.cluster.local:3000/api/health
            widget:
              type: grafana
              url: http://grafana-service.monitoring.svc.cluster.local:3000
              username: {{HOMEPAGE_VAR_GRAFANA_USER}}
              password: {{HOMEPAGE_VAR_GRAFANA_PASS}}

        - Mimir:
            icon: prometheus.png
            href: http://grafana.talos00/explore?orgId=1&left=%7B%22datasource%22:%22mimir%22%7D
            description: Metrics Storage (30d retention)
            siteMonitor: http://mimir-nginx.monitoring.svc.cluster.local/ready

        - Loki:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/loki.png
            href: http://grafana.talos00/explore?orgId=1&left=%7B%22datasource%22:%22loki%22%7D
            description: Log Aggregation
            siteMonitor: http://loki-gateway.monitoring.svc.cluster.local/ready

        - Tempo:
            icon: https://raw.githubusercontent.com/grafana/tempo/main/docs/sources/tempo/logo.png
            href: http://grafana.talos00/explore?orgId=1&left=%7B%22datasource%22:%22tempo%22%7D
            description: Distributed Tracing
            siteMonitor: http://tempo.monitoring.svc.cluster.local:3100/ready

        - Alloy:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/grafana.png
            href: http://alloy.talos00
            description: OpenTelemetry Collector
            siteMonitor: http://alloy.monitoring.svc.cluster.local:12345/-/ready

        - Hubble:
            icon: https://raw.githubusercontent.com/cilium/hubble/main/Documentation/images/hubble_logo.png
            href: http://hubble.talos00
            description: Network Observability
            siteMonitor: http://hubble-ui.kube-system.svc.cluster.local

    # Kubernetes Tools
    - Kubernetes:
        - Headlamp:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/kubernetes-dashboard.png
            href: http://headlamp.talos00
            description: Kubernetes Dashboard
            siteMonitor: http://headlamp.infra-testing.svc.cluster.local

        - Goldilocks:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/goldilocks.png
            href: http://goldilocks.talos00
            description: Resource Recommendations
            siteMonitor: http://goldilocks-dashboard.infra-testing.svc.cluster.local

        - Kube Ops View:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/kubernetes.png
            href: http://kube-ops-view.talos00
            description: Cluster Visualizer
            siteMonitor: http://kube-ops-view.infra-testing.svc.cluster.local

        - Bastion:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/terminal.png
            href: http://bastion.talos00
            description: Debug Shell Pod

    # VPN & Privacy Tools
    - VPN & Privacy:
        - VPN Gateway:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/protonvpn.png
            href: http://grafana.talos00/d/vpn-gateway
            description: ProtonVPN WireGuard
            siteMonitor: http://gluetun.vpn-gateway.svc.cluster.local:8000/v1/vpn/status

        - SecureChrome:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/chrome.png
            href: https://securechrome.talos00
            description: VPN Browser (Germany)
            siteMonitor: http://secure-chrome.vpn-gateway.svc.cluster.local:6901

        - SecureXNG:
            icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/searxng.png
            href: http://securexng.talos00
            description: Private Meta-Search
            siteMonitor: http://securexng.vpn-gateway.svc.cluster.local:8080

    # Home Automation
    - Home:
        - Home Assistant:
            icon: home-assistant.png
            href: http://homeassistant.talos00
            description: Home Automation
            siteMonitor: http://home-assistant.home-stack.svc.cluster.local:8123

  widgets.yaml: |
    ---
    # Homepage Widgets Configuration
    # Documentation: https://gethomepage.dev/configs/info-widgets/

    # Kubernetes cluster information
    - kubernetes:
        cluster:
          show: true
          cpu: true
          memory: true
          showLabel: true
          label: "Talos Cluster"
        nodes:
          show: true
          cpu: true
          memory: true
          showLabel: true

    # Search bar - use private search
    - search:
        provider: ["duckduckgo", "google", "bing"]
        focus: false
        showSearchSuggestions: true
        target: _blank

    # Greeting with date/time
    - greeting:
        text_size: 2xl
        text: "Catalyst Homelab"

    - datetime:
        text_size: xl
        format:
          dateStyle: long
          timeStyle: short
          hour12: true

    # OpenMeteo weather
    - openmeteo:
        label: San Francisco
        latitude: 37.7749
        longitude: -122.4194
        timezone: America/Los_Angeles
        units: imperial
        cache: 5

  bookmarks.yaml: |
    ---
    # Homepage Bookmarks Configuration
    # Documentation: https://gethomepage.dev/configs/bookmarks/

    - Quick Links:
        - GitHub:
            - icon: github.png
              href: https://github.com/TheBranchDriftCatalyst
              description: My GitHub Profile

        - Homelab Repo:
            - icon: github.png
              href: https://github.com/TheBranchDriftCatalyst/talos-homelab
              description: This Infrastructure

        - Claude:
            - icon: https://www.anthropic.com/images/icons/apple-touch-icon.png
              href: https://claude.ai
              description: AI Assistant

    - Documentation:
        - Kubernetes:
            - icon: kubernetes.png
              href: https://kubernetes.io/docs/
              description: K8s Docs

        - Talos Linux:
            - icon: https://www.talos.dev/images/logo.svg
              href: https://www.talos.dev/
              description: Talos OS

        - Homepage:
            - icon: homepage.png
              href: https://gethomepage.dev/
              description: Dashboard Docs

        - Cilium:
            - icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/cilium.png
              href: https://docs.cilium.io/
              description: CNI & Network Policy

    - DevOps:
        - ArgoCD:
            - icon: argocd.png
              href: https://argo-cd.readthedocs.io/
              description: GitOps CD

        - Flux:
            - icon: https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/png/flux-cd.png
              href: https://fluxcd.io/docs/
              description: GitOps Toolkit

        - Traefik:
            - icon: traefik.png
              href: https://doc.traefik.io/traefik/
              description: Ingress

        - Helm Charts:
            - icon: helm.png
              href: https://artifacthub.io/
              description: Artifact Hub

  docker.yaml: |
    ---
    # Not used - Kubernetes handles container management
