services:
  beads-manager:
    image: ghcr.io/thebranchdriftcatalyst/beads-manager:latest
    ports:
      - "3333:3333"
    volumes:
      # Mount the current directory as the workspace
      - ${BEADS_WORKSPACE:-.}:/workspace:ro
    environment:
      - BEADS_WORKSPACE=/workspace
      - PORT=3333
    # Read-only container for security
    read_only: true
    # Allow writing to tmp
    tmpfs:
      - /tmp
    # Security options
    security_opt:
      - no-new-privileges:true
