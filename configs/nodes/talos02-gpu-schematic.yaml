# Talos Image Factory Schematic for talos02-gpu
#
# Hardware: ASUS NUC 15 Pro - Intel Core Ultra 5 225H (Arrow Lake-H)
# GPU: Intel Arc 130T (integrated Xe-LPG+ graphics)
#
# IMPORTANT: Arrow Lake requires the xe driver (available in Talos 1.12+)
# - xe: New driver for Xe2+ architecture (required for Arrow Lake Arc iGPU)
# - i915: Legacy fallback, but causes "GPU wedged" on Arrow Lake
#
# Generate schematic ID:
#   curl -X POST --data-binary @configs/nodes/talos02-gpu-schematic.yaml \
#     https://factory.talos.dev/schematics
#
# Then download the installer (use v1.12.0-rc.1 for xe support):
#   https://factory.talos.dev/image/<SCHEMATIC_ID>/v1.12.0-rc.1/metal-amd64.iso
#
# Or use in machine config:
#   machine:
#     install:
#       image: factory.talos.dev/installer/<SCHEMATIC_ID>:v1.12.0-rc.1
#
customization:
  systemExtensions:
    officialExtensions:
      # Intel GPU support - xe driver for Arrow Lake Arc 130T
      - siderolabs/xe        # New Xe driver for Xe-LPG+ architecture
      # Intel CPU microcode updates
      - siderolabs/intel-ucode
