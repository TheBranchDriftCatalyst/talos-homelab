# Talos Image Factory Schematic for talos02-gpu
#
# Hardware: ASUS NUC 15 Pro - Intel Core Ultra 5 225H (Arrow Lake-H)
# GPU: Intel Arc 130T (integrated Meteor Lake iGPU, device ID 7d51)
#
# CURRENT STATUS: GPU is WEDGED - needs cold boot (full power cycle) to reset
# See RETRO-GPU-2025-12-19.md for investigation details
#
# SCHEMATIC HISTORY:
# - Dec 15-16: i915 + intel-ucode = WORKING (QSV AV1 encoding verified)
# - Dec 18: Node reboots during network troubleshooting
# - Dec 19: GPU wedged, tried xe driver (GSC timeout), rolled back to i915
# - Result: GPU still wedged on i915 - hardware/firmware state issue
#
# Generate schematic ID:
#   curl -X POST --data-binary @configs/nodes/talos02-gpu-schematic.yaml \
#     https://factory.talos.dev/schematics
#
# Current schematic ID: 4b3cd373a192c8469e859b7a0cfbed3ecc3577c4a2d346a37b0aeff9cd17cdb0
# Use with Talos v1.11.1:
#   factory.talos.dev/installer/4b3cd373a192c8469e859b7a0cfbed3ecc3577c4a2d346a37b0aeff9cd17cdb0:v1.11.1
#
customization:
  systemExtensions:
    officialExtensions:
      # Intel GPU support - i915 driver (original working config)
      - siderolabs/i915
      # Intel CPU microcode updates
      - siderolabs/intel-ucode
